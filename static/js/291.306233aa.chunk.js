"use strict";(self.webpackChunkreact_test_task_camper=self.webpackChunkreact_test_task_camper||[]).push([[291,574],{8684:function(e,n,t){t.d(n,{r:function(){return o},C:function(){return c}});var r=t(5861),s=t(7757),a=t.n(s),i=t(3016).Z.create({baseURL:"https://6648affd4032b1331bec1cde.mockapi.io/"}),c=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("api/camper?page=1&limit=".concat(n),{params:t});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("api/camper/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},9051:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(184),s=function(e){var n=e.onClick,t=e.text,s=e.type;return(0,r.jsx)("button",{onClick:n,className:s,children:t})}},8208:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(9439),s=t(7689),a=t(8684),i=t(2791),c=t(184),o=function(e){var n=e.children,t=(0,s.s0)(),r=(0,i.useCallback)((function(){t("/catalog")}),[t]);return(0,i.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[r]),(0,c.jsx)("div",{className:"overlay",onClick:function(e){return function(e){e.target===e.currentTarget&&r()}(e)},children:(0,c.jsx)("div",{className:"modal",children:n})})},l=t(4099),d=t(483),u=t(9326),m=t(9513),h=t.n(m),v=(t(8639),t(9051)),f=function(){var e=(0,i.useState)(null),n=(0,r.Z)(e,2),t=n[0],s=n[1];return(0,c.jsxs)("form",{className:"form",onSubmit:function(e){e.target.reset()},children:[(0,c.jsx)("div",{className:"form_title",children:"Book your campervan now"}),(0,c.jsx)("div",{className:"form_subtitle",children:"Stay connected! We are always ready to help you."}),(0,c.jsx)("div",{className:"wrap_field",children:(0,c.jsx)("input",{className:"field",type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0})}),(0,c.jsx)("div",{className:"wrap_field",children:(0,c.jsx)("input",{className:"field",type:"mail",placeholder:"Email",name:"mail",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",required:!0})}),(0,c.jsx)(h(),{showIcon:!0,selected:t,dateFormat:"dd/MM/yyyy",onChange:function(e){return s(e)},placeholderText:"Booking date",icon:(0,c.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M15.8333 3.33331H4.16667C3.24619 3.33331 2.5 4.07951 2.5 4.99998V16.6666C2.5 17.5871 3.24619 18.3333 4.16667 18.3333H15.8333C16.7538 18.3333 17.5 17.5871 17.5 16.6666V4.99998C17.5 4.07951 16.7538 3.33331 15.8333 3.33331Z",stroke:"#101828",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M13.3335 1.66669V5.00002",stroke:"#101828",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.6665 1.66669V5.00002",stroke:"#101828",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M2.5 8.33331H17.5",stroke:"#101828",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,c.jsx)("div",{className:"wrap_field",children:(0,c.jsx)("textarea",{className:"field field_textarea",name:"comment",placeholder:"Comment"})}),(0,c.jsx)(v.Z,{text:"Send",type:"color send"})]})},x=function(){var e,n,t,m=(0,s.UO)().id,h=(0,i.useState)({}),v=(0,r.Z)(h,2),x=v[0],p=v[1],j=(0,i.useState)("Features"),w=(0,r.Z)(j,2),_=w[0],k=w[1],N=(0,s.s0)();(0,i.useEffect)((function(){m&&(0,a.r)(m).then((function(e){p(e)}))}),[m]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o,{className:"modal",children:[(0,c.jsx)("button",{onClick:function(){N("/catalog")},className:"modal__btn",type:"button",children:(0,c.jsx)("svg",{width:"32",height:"32",children:(0,c.jsx)("use",{href:l.Z+"#icon-cross"})})}),(0,c.jsx)("div",{className:"list-info__title",children:x.name}),(0,c.jsxs)("div",{className:"list-info__review",children:[(0,c.jsxs)("span",{className:"list-info__review-item",children:[(0,c.jsx)("svg",{width:"16",height:"15",children:(0,c.jsx)("use",{href:l.Z+"#icon-rating"})}),x.rating," (",null===(e=x.reviews)||void 0===e?void 0:e.length," Reviews)"," "]}),(0,c.jsxs)("span",{className:"list-info__icon-wrap",children:[(0,c.jsx)("svg",{width:"16",height:"16",children:(0,c.jsx)("use",{href:l.Z+"#icon-location"})}),x.location]})]}),(0,c.jsxs)("div",{className:"list-info__title",children:["\u20ac",null===(n=x.price)||void 0===n?void 0:n.toFixed(2)]}),(0,c.jsx)("div",{className:"gallery",children:null===(t=x.gallery)||void 0===t?void 0:t.map((function(e){return(0,c.jsx)("img",{src:e,alt:e},e)}))}),(0,c.jsx)("div",{children:x.description}),(0,c.jsxs)("ul",{className:"tabs",onClick:function(e){e.target!==e.currentTarget&&k(e.target.innerHTML)},children:[(0,c.jsx)("li",{className:"tabs_item "+("Features"===_&&"active"),children:"Features"}),(0,c.jsx)("li",{className:"tabs_item "+("Reviews"===_&&"active"),children:"Reviews"})]}),(0,c.jsx)("hr",{className:"modal__hr"}),(0,c.jsxs)("div",{className:"tabs_wrapper",children:[(0,c.jsxs)("div",{className:"tabs_content",children:["Features"===_&&(0,c.jsx)(u.default,{item:x}),"Reviews"===_&&(0,c.jsx)(d.default,{reviews:x.reviews})]}),(0,c.jsx)("div",{className:"tabs_form",children:(0,c.jsx)(f,{})})]})]}),(0,c.jsx)(s.j3,{})]})}},483:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});var r=t(6375),s=t(184),a=function(e){return e.reviews.map((function(e){return(0,s.jsxs)("div",{className:"reviews",children:[(0,s.jsxs)("div",{className:"reviews_user",children:[(0,s.jsx)("div",{className:"reviews_user_avatar",children:e.reviewer_name[0]}),(0,s.jsxs)("div",{className:"reviews_user_info",children:[(0,s.jsx)("span",{className:"reviews_user_name",children:e.reviewer_name}),(0,s.jsx)(r.i,{initialValue:e.reviewer_rating,readonly:!0,size:16})]})]}),(0,s.jsx)("div",{className:"reviews_text",children:e.comment})]},e.reviewer_name)}))}}}]);
//# sourceMappingURL=291.306233aa.chunk.js.map